<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"gh-pages_scripts_fulltext-search-ui.js.html":{"id":"gh-pages_scripts_fulltext-search-ui.js.html","title":"Source: gh-pages/scripts/fulltext-search-ui.js","body":" Angular Leaflet Light Classes LeafletCtrlLeafletServiceLeafletServiceProvider Source: gh-pages/scripts/fulltext-search-ui.js window.SearcherDisplay = (function($) { /** * This class provides support for displaying quick search text results to users. */ function SearcherDisplay() { } SearcherDisplay.prototype.init = function() { this._displayQuickSearch(); }; /** * This method creates the quick text search entry in navigation menu and wires all required events. */ SearcherDisplay.prototype._displayQuickSearch = function() { var quickSearch = $(document.createElement(&quot;iframe&quot;)), body = $(&quot;body&quot;), self = this; quickSearch.attr(&quot;src&quot;, &quot;quicksearch.html&quot;); quickSearch.css(&quot;width&quot;, &quot;0px&quot;); quickSearch.css(&quot;height&quot;, &quot;0px&quot;); body.append(quickSearch); $(window).on(&quot;message&quot;, function(msg) { var msgData = msg.originalEvent.data; if (msgData.msgid != &quot;docstrap.quicksearch.done&quot;) { return; } var results = msgData.results || []; self._displaySearchResults(results); }); function startSearch() { var searchTerms = $('#search-input').prop(&quot;value&quot;); if (searchTerms) { quickSearch[0].contentWindow.postMessage({ &quot;searchTerms&quot;: searchTerms, &quot;msgid&quot;: &quot;docstrap.quicksearch.start&quot; }, &quot;*&quot;); } } $('#search-input').on('keyup', function(evt) { if (evt.keyCode != 13) { return; } startSearch(); return false; }); $('#search-submit').on('click', function() { startSearch(); return false; }); }; /** * This method displays the quick text search results in a modal dialog. */ SearcherDisplay.prototype._displaySearchResults = function(results) { var resultsHolder = $($(&quot;#searchResults&quot;).find(&quot;.modal-body&quot;)), fragment = document.createDocumentFragment(), resultsList = document.createElement(&quot;ul&quot;); resultsHolder.empty(); for (var idx = 0; idx &lt; results.length; idx++) { var result = results[idx], item = document.createElement(&quot;li&quot;), link = document.createElement(&quot;a&quot;); link.href = result.id; link.innerHTML = result.title; item.appendChild(link) resultsList.appendChild(item); } fragment.appendChild(resultsList); resultsHolder.append(fragment); $(&quot;#searchResults&quot;).modal({&quot;show&quot;: true}); }; return new SearcherDisplay(); })($); × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"src_leaflet.controller.js.html":{"id":"src_leaflet.controller.js.html","title":"Source: src/leaflet.controller.js","body":" Angular Leaflet Light Classes LeafletCtrlLeafletServiceLeafletServiceProvider Source: src/leaflet.controller.js /** * Class LeafletCtrl * This is the controller of the leaflet directive */ class LeafletCtrl { /** * LeafletCtrl constructor * @constructor * @param {Object} $element angular $element * @param {Object} leafletService local service */ constructor($element, leafletService) { this.$element = $element; this.leafletService = leafletService; } $onInit() { this.mapid = this.$element.attr('id') || 'map'; this.$element.removeAttr('id'); var div = this.$element.find('div'); div.attr('id', this.mapid); div.attr('id', this.mapid); div.attr('style', this.$element.attr('style')); div.attr('class', this.$element.attr('class')); this.container = div[0]; } $postLink() { if (!L.Icon.Default.imagePath &amp;&amp; this.leafletService.settings.imagePath) { L.Icon.Default.imagePath = this.leafletService.settings.imagePath; } var map = L.map(this.container); this.leafletService.data[this.mapid] = map; this.leafletService.updateMapFromSettings(map); this.onMapInitialized({map: map}); } } LeafletCtrl.$inject = ['$element', 'leafletService']; export default LeafletCtrl; × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"src_leaflet.service.js.html":{"id":"src_leaflet.service.js.html","title":"Source: src/leaflet.service.js","body":" Angular Leaflet Light Classes LeafletCtrlLeafletServiceLeafletServiceProvider Source: src/leaflet.service.js /** * Class LeafletService which provide API * to let leaflet work well with AngularJS * You can pass settings throw the provider */ class LeafletService { /** * LeafletService constructor * @constructor * @param {Object} $compile angular $compile */ constructor($complie){ this.settings = {}; this.data = {}; } /** * handle events * @description integrate Leaflet map.on function with angular * most of the work consist to call scope.$apply only if needed * @param {String} event the name of the event to listen like 'click' * You will find all supported event on the http://leafletjs.com/reference.html# * @param {function} callback the function to call when this event happens * @param {Object} leafletObject the object that has '.on' function * @param {Ojbect} scope the scope of your current controller/directive/component */ on(event, callback, lobj, scope) { lobj.on(event, function (e) { callback(e); if (scope.$root.$$phase != '$apply' &amp;&amp; scope.$root.$$phase != '$digest') { scope.$apply(); } }); scope.$on('$destroy', function () { lobj.off(event, callback); }); } /** * @description integrate Leaflet map.on function with angular * most of the work consist to call scope.$apply only if needed. * @example var settings = { center: { lat: 47.184112659842015, lng: -1.619110107421875, zoom: 17 }, minZoom: 12, maxBounds: [[47.143496,-1.652756],[47.296462,-1.461868]] tiles: { url: 'http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', options: { attribution: '&amp;copy; Openstreetmap France | &amp;copy; &lt;a href=&quot;http://www.openstreetmap.org/copyright&quot;&gt;OpenStreetMap&lt;/a&gt;', maxZoom: 19 } }, layers: { baselayers: { layerid: {} }, overlays: { overlayid: {} } } }; * @param {Object} map the leaflet map object update * @param {Object} settings */ updateMapFromSettings(map, settings) { var s = settings || this.settings; if (s.center) { map.setView([s.center.lat, s.center.lng], s.center.zoom); } if (s.minZoom) { map.options.minZoom = s.minZoom; } if (s.maxZoom) { map.options.maxZoom = s.maxZoom; } if (s.maxBounds) { map.setMaxBounds(s.maxBounds); } if (s.tiles) { L.tileLayer(s.tiles.url, s.tiles.options).addTo(map); } if (s.layers) { var baselayers = {}; var overlays = {}; if (s.layers.baselayers) { for (let layerid in s.layers.baselayers) { let layer = s.layers.baselayers[layerid]; baselayers[layer.name] = L.tileLayer(layer.url, layer.options); } } if (s.layers.overlays) { for (let layerid in s.layers.overlays) { let layer = s.layers.overlays[layerid]; overlays[layer.name] = L.tileLayer(layer.url, layer.options); } } L.control.layers(baselayers, overlays).addTo(map); } } } LeafletService.$inject = ['$compile']; export default LeafletService; × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"src_leaflet.provider.js.html":{"id":"src_leaflet.provider.js.html","title":"Source: src/leaflet.provider.js","body":" Angular Leaflet Light Classes LeafletCtrlLeafletServiceLeafletServiceProvider Source: src/leaflet.provider.js import LeafletService from './leaflet.service'; /** * LeafletServiceProvider * @constructor */ function LeafletServiceProvider() { var defaultSettings = { tiles: { url: 'http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', options: { attribution: '&amp;copy; Openstreetmap France | &amp;copy; &lt;a href=&quot;http://www.openstreetmap.org/copyright&quot;&gt;OpenStreetMap&lt;/a&gt;', maxZoom: 19 } }, center: { lat: 47.21117290969667, lng: -1.5569686889648438, zoom: 12 } }; this.settings = {}; this.$get = function factory($compile) { 'ngInject'; var service = new LeafletService($compile); service.settings = defaultSettings; for (var pp in this.settings) { service.settings[pp] = this.settings[pp]; } return service; }; this.$get.$inject = ['$compile']; } export default LeafletServiceProvider; × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Angular Leaflet Light Classes LeafletCtrlLeafletServiceLeafletServiceProvider Classes Classes LeafletCtrl LeafletService LeafletServiceProvider × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Angular Leaflet Light Classes LeafletCtrlLeafletServiceLeafletServiceProvider Angular Leaflet Light This project aims at providing a leaflet integration for angularjs. Please show me examplesExample 1: Default Source Example 2: sync center&amp;zoom Source Example 3: geojson Source How to installinstall using npm npm install --save angular-leaflet-lightcreate example.js file angular.module('MyApp', ['angular-leaflet']);create index.html file &lt;html&gt; &lt;head&gt; &lt;title&gt;angular leaflet default&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;https://npmcdn.com/leaflet@0.7.7/dist/leaflet.css&quot; /&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;https://npmcdn.com/angular@1.5.5/angular.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;https://npmcdn.com/leaflet@0.7.7/dist/leaflet.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;node_modules/angular-leaflet-light/dist/angular-leaflet.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;example.js&quot;&gt;&lt;/script&gt; &lt;style type=&quot;text/css&quot;&gt; #map { height: 500px; } &lt;/style&gt; &lt;/head&gt; &lt;body ng-app=&quot;example&quot; ng-strict-di ng-cloak&gt; &lt;leaflet&gt;&lt;/leaflet&gt; &lt;/body&gt; &lt;/html&gt;Why do not use angular-leaflet from tombatossals ?The first integration of leaflet in angular has been done by David Rubert aka tombatossals: https://github.com/tombatossals/angular-leaflet-directive Now this project is maintains and updated by the famous angular-ui team: https://github.com/angular-ui/ui-leaflet So why should I do it again ? Because both provide something that is not leaflet. Theses projects provides advanced integration into angular but ... geojson (why the hell should I have only one geojson) slow on mobile (may be because there are lots of watchers on quite big objects) hard to customize (try to create a directive that wrap it...) I have use tombatossals's implementation on many project before that time where I find how I would like it to be. So what is angular leaflet light ?A simple directive that display a map and provide a callback with the map object, so you can do what ever you want. A simple service add some common utils to handle things like compile popup with your data from the scope + default settings for all leaflet maps (using in the init so no watcher on it). &lt;leaflet id=&quot;mymap&quot; on-map-initialized=&quot;customizeMyMap(map)&quot;&gt;&lt;/leaflet&gt;You can also access the map using the service: leafletService.data.mymap; × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"LeafletCtrl.html":{"id":"LeafletCtrl.html","title":"Class: LeafletCtrl","body":" Angular Leaflet Light Classes LeafletCtrlLeafletServiceLeafletServiceProvider Class: LeafletCtrl LeafletCtrl Class LeafletCtrl This is the controller of the leaflet directive new LeafletCtrl($element, leafletService) LeafletCtrl constructor Parameters: Name Type Description $element Object angular $element leafletService Object local service Source: src/leaflet.controller.js, line 5 × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"LeafletService.html":{"id":"LeafletService.html","title":"Class: LeafletService","body":" Angular Leaflet Light Classes LeafletCtrlLeafletServiceLeafletServiceProvider Class: LeafletService LeafletService Class LeafletService which provide API to let leaflet work well with AngularJS You can pass settings throw the provider new LeafletService($compile) LeafletService constructor Parameters: Name Type Description $compile Object angular $compile Source: src/leaflet.service.js, line 6 Methods on(event, callback, leafletObject, scope) integrate Leaflet map.on function with angular most of the work consist to call scope.$apply only if needed Parameters: Name Type Description event String the name of the event to listen like 'click' You will find all supported event on the http://leafletjs.com/reference.html# callback function the function to call when this event happens leafletObject Object the object that has '.on' function scope Ojbect the scope of your current controller/directive/component Source: src/leaflet.service.js, line 27 updateMapFromSettings(map, settings) integrate Leaflet map.on function with angular most of the work consist to call scope.$apply only if needed. Parameters: Name Type Description map Object the leaflet map object update settings Object Source: src/leaflet.service.js, line 70 Example var settings = { center: { lat: 47.184112659842015, lng: -1.619110107421875, zoom: 17 }, minZoom: 12, maxBounds: [[47.143496,-1.652756],[47.296462,-1.461868]] tiles: { url: 'http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', options: { attribution: '&amp;copy; Openstreetmap France | &amp;copy; &lt;a href=&quot;http://www.openstreetmap.org/copyright&quot;&gt;OpenStreetMap&lt;/a&gt;', maxZoom: 19 } }, layers: { baselayers: { layerid: {} }, overlays: { overlayid: {} } } }; × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"LeafletServiceProvider.html":{"id":"LeafletServiceProvider.html","title":"Class: LeafletServiceProvider","body":" Angular Leaflet Light Classes LeafletCtrlLeafletServiceLeafletServiceProvider Class: LeafletServiceProvider LeafletServiceProvider new LeafletServiceProvider() LeafletServiceProvider Source: src/leaflet.provider.js, line 7 × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
