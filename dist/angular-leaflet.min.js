!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["angular-leaflet-light"]=t():e["angular-leaflet-light"]=t()}(this,function(){return function(e){function t(n){if(a[n])return a[n].exports;var i=a[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(1),r=n(i),o=a(3),s=n(o);t["default"]=angular.module("angular-leaflet",[]).component("leaflet",{template:"<div></div>",controller:s["default"],bindings:{onMapInitialized:"&"}}).provider("leafletService",r["default"])},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(){var e={tiles:{url:"http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",options:{attribution:'&copy; Openstreetmap France | &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',maxZoom:19}},center:{lat:47.21117290969667,lng:-1.5569686889648438,zoom:12}};this.settings={},this.$get=function(t){"ngInject";var a=new o["default"](t);a.settings=e;for(var n in this.settings)a.settings[n]=this.settings[n];return a},this.$get.$inject=["$compile"]}Object.defineProperty(t,"__esModule",{value:!0});var r=a(2),o=n(r);t["default"]=i},function(e,t){"use strict";function a(e){"ngInject";this.settings={},this.data={},this.on=function(e,t,a,n){a.on(e,function(e){t(e),"$apply"!=n.$root.$$phase&&"$digest"!=n.$root.$$phase&&n.$apply()}),n.$on("$destroy",function(){a.off(e,t)})},this.updateMapFromSettings=function(e){var t=this.settings;if(t.center&&e.setView([t.center.lat,t.center.lng],t.center.zoom),t.tiles&&L.tileLayer(t.tiles.url,t.tiles.options).addTo(e),t.layers){var a={},n={};if(t.layers.baselayers)for(var i in t.layers.baselayers){var r=t.layers.baselayers[i];a[r.name]=L.tileLayer(r.url,r.options)}if(t.layers.overlays)for(var o in t.layers.overlays){var s=t.layers.overlays[o];n[s.name]=L.tileLayer(s.url,s.options)}L.control.layers(a,n).addTo(e)}}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$compile"],t["default"]=a},function(e,t){"use strict";function a(e,t){var a=this;this.$onInit=function(){a.mapid=e.attr("id")||"map",e.removeAttr("id");var t=e.find("div");t.attr("id",a.mapid),t.attr("id",a.mapid),t.attr("style",e.attr("style")),t.attr("class",e.attr("class"))},this.$postLink=function(){!L.Icon.Default.imagePath&&t.settings.imagePath&&(L.Icon.Default.imagePath=t.settings.imagePath);var e=L.map(a.mapid);t.data[a.mapid]=e,t.updateMapFromSettings(e),a.onMapInitialized({map:e})}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$element","leafletService"],t["default"]=a}])});