!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["angular-leaflet-light"]=e():t["angular-leaflet-light"]=e()}(this,function(){return function(t){function e(n){if(a[n])return a[n].exports;var r=a[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var a={};return e.m=t,e.c=a,e.p="",e(0)}([function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(1),i=n(r),o=a(2),s=n(o),l=a(3),u=n(l);e["default"]=angular.module("angular-leaflet",[]).component("leaflet",{template:"<div></div>",controller:u["default"],bindings:{onMapInitialized:"&"}}).provider("leafletService",s["default"]).service("leafletService",i["default"])},function(t,e){"use strict";function a(t){"ngInject";this.settings={},this.data={},this.on=function(t,e,a,n){a.on(t,function(t){e(t),n.$$phase||n.$apply()}),n.$on("$destroy",function(){a.off(t,e)})},this.updateMapFromSettings=function(t){var e=this.settings;if(e.center&&t.setView([e.center.lat,e.center.lng],e.center.zoom),e.tiles&&L.tileLayer(e.tiles.url,e.tiles.options).addTo(t),e.layers){var a={},n={};if(e.layers.baselayers)for(var r in e.layers.baselayers){var i=e.layers.baselayers[r];a[i.name]=L.tileLayer(i.url,i.options)}if(e.layers.overlays)for(var o in e.layers.overlays){var s=e.layers.overlays[o];n[s.name]=L.tileLayer(s.url,s.options)}L.control.layers(a,n).addTo(t)}}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(){var t={tiles:{url:"http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",options:{attribution:'&copy; Openstreetmap France | &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',maxZoom:19}},center:{lat:47.21117290969667,lng:-1.5569686889648438,zoom:12}};this.settings={},this.$get=function(e){"ngInject";var a=new o["default"](e);a.settings=t;for(var n in this.settings)a.settings[n]=this.settings[n];return a}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(1),o=n(i);e["default"]=r},function(t,e){"use strict";function a(t,e){var a=this;this.$onInit=function(){a.mapid=t.attr("id")||"map",t.removeAttr("id");var e=t.find("div");e.attr("id",a.mapid),e.attr("id",a.mapid),e.attr("style",t.attr("style")),e.attr("class",t.attr("class"))},this.$postLink=function(){L.Icon.Default.imagePath=e.settings.imagePath,e.data[a.mapid]=L.map(a.mapid),e.updateMapFromSettings(e.data[a.mapid]),a.onMapInitialized({map:e.data[a.mapid]})}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a}])});